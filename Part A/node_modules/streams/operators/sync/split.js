"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const iterator_stream_1 = require("../../iterator-stream");
const splitter_1 = require("../../util/splitter");
iterator_stream_1.IteratorStream.prototype.split = function (by) {
    function* splitOperator(it) {
        let remainder;
        for (const chunk of it) {
            const [items, nextRemainder] = (0, splitter_1.splitChunk)(by, chunk, remainder);
            yield* items;
            remainder = nextRemainder;
        }
        if (remainder !== undefined) {
            yield remainder;
        }
    }
    return new iterator_stream_1.IteratorStream(splitOperator(this));
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3BsaXQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvb3BlcmF0b3JzL3N5bmMvc3BsaXQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSwyREFBdUQ7QUFDdkQsa0RBQTJEO0FBUTNELGdDQUFjLENBQUMsU0FBUyxDQUFDLEtBQUssR0FBRyxVQUMvQixFQUFrQjtJQUVsQixRQUFRLENBQUMsQ0FBQyxhQUFhLENBQUMsRUFBcUI7UUFDM0MsSUFBSSxTQUF3QixDQUFDO1FBQzdCLEtBQUssTUFBTSxLQUFLLElBQUksRUFBRSxFQUFFLENBQUM7WUFDdkIsTUFBTSxDQUFDLEtBQUssRUFBRSxhQUFhLENBQUMsR0FBRyxJQUFBLHFCQUFVLEVBQUMsRUFBRSxFQUFFLEtBQUssRUFBRSxTQUFTLENBQUMsQ0FBQztZQUNoRSxLQUFLLENBQUMsQ0FBQyxLQUFLLENBQUM7WUFDYixTQUFTLEdBQUcsYUFBYSxDQUFDO1FBQzVCLENBQUM7UUFFRCxJQUFJLFNBQVMsS0FBSyxTQUFTLEVBQUUsQ0FBQztZQUM1QixNQUFNLFNBQVMsQ0FBQztRQUNsQixDQUFDO0lBQ0gsQ0FBQztJQUNELE9BQU8sSUFBSSxnQ0FBYyxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO0FBQ2pELENBQUMsQ0FBQyJ9